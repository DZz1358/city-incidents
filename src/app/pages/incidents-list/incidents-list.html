<mat-sidenav-container class="sidebar-container">
  <mat-sidenav
    #filterSidebar
    position="start"
    mode="over"
    class="filter-sidebar"
    [fixedInViewport]="false"
    [fixedTopGap]="0"
    [fixedBottomGap]="0"
  >
    <div class="sidebar-header">
      <button mat-icon-button (click)="filterSidebar.close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="filter-content">
      <app-filters
        [(isLoading)]="isLoading"
        [initialFilter]="filter()"
        (filterChange)="onFilterChange($event)"
      ></app-filters>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <button matMiniFab class="open-filter-btn" (click)="filterSidebar.open()">
      <mat-icon>filter_list</mat-icon>
    </button>

    <div class="main-content">
      @if (isLoading()) {
        <app-loader />
      }

      <div id="map"></div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
